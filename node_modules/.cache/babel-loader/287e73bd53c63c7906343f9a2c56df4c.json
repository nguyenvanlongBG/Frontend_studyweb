{"ast":null,"code":"import { ref } from 'vue';\nimport LatexComponent from '../LatexComponent.vue';\nexport default {\n  name: \"ChooseComponent\",\n  props: ['choices', 'isUpdate', 'linkNavbar', 'doTest', 'canChoose', 'question', 'type'],\n  components: {\n    LatexComponent\n  },\n\n  setup() {\n    const newAnswer = ref(\"\");\n    const isCreate = ref(false);\n    const newChooses = ref([]);\n    const render = ref(true);\n    const indexNewChoose = ref(0);\n    const classChoose = ref(\"choice\");\n    return {\n      newAnswer,\n      render,\n      newChooses,\n      isCreate,\n      indexNewChoose,\n      classChoose\n    };\n  },\n\n  data() {\n    let choices = this.choices;\n    return {\n      // copy data from array not reference\n      choiceQuestion: choices\n    };\n  },\n\n  methods: {\n    choiceAnswer(id) {\n      this.$emit('chooseAnswer', id);\n    },\n\n    updateChoose(content, index) {\n      this.choiceQuestion[index].content = content;\n      let data = {\n        'id': this.choiceQuestion[index].id,\n        'content': content\n      };\n      this.$emit('update', data);\n    },\n\n    deleteChoose(event, index) {\n      event.stopImmediatePropagation(); // console.log(\"Click delete\")\n\n      let id = this.choiceQuestion[index].id;\n      this.choiceQuestion.splice(index, 1); // console.log(this.choiceQuestion)\n\n      this.render = false;\n      this.$nextTick(() => {\n        this.render = true;\n      });\n      this.$emit('delete', id);\n    },\n\n    createChoose() {\n      let data = {\n        'id': this.question + '_new_choose_' + this.indexNewChoose,\n        'content': \"\"\n      };\n      this.indexNewChoose++;\n      this.choiceQuestion.push(data);\n      this.$emit('create', data);\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA6BA,SAASA,GAAT,QAAoB,KAApB;AACA,OAAOC,cAAP,MAA2B,uBAA3B;AACA,eAAe;EACXC,IAAI,EAAE,iBADK;EAEXC,KAAK,EAAE,CAAC,SAAD,EAAY,UAAZ,EAAwB,YAAxB,EAAsC,QAAtC,EAAgD,WAAhD,EAA6D,UAA7D,EAAyE,MAAzE,CAFI;EAGXC,UAAU,EAAE;IACRH;EADQ,CAHD;;EAMXI,KAAK,GAAG;IACJ,MAAMC,SAAQ,GAAIN,GAAG,CAAC,EAAD,CAArB;IACA,MAAMO,QAAO,GAAIP,GAAG,CAAC,KAAD,CAApB;IACA,MAAMQ,UAAS,GAAIR,GAAG,CAAC,EAAD,CAAtB;IACA,MAAMS,MAAK,GAAIT,GAAG,CAAC,IAAD,CAAlB;IACA,MAAMU,cAAa,GAAIV,GAAG,CAAC,CAAD,CAA1B;IACA,MAAMW,WAAU,GAAIX,GAAG,CAAC,QAAD,CAAvB;IACA,OAAO;MAAEM,SAAF;MAAaG,MAAb;MAAqBD,UAArB;MAAiCD,QAAjC;MAA2CG,cAA3C;MAA2DC;IAA3D,CAAP;EACH,CAdU;;EAeXC,IAAI,GAAG;IACH,IAAIC,OAAM,GAAI,KAAKA,OAAnB;IACA,OAAO;MACH;MACAC,cAAc,EAAED;IAFb,CAAP;EAIH,CArBU;;EAwBXE,OAAO,EAAE;IACLC,YAAY,CAACC,EAAD,EAAK;MACb,KAAKC,KAAL,CAAW,cAAX,EAA2BD,EAA3B;IACH,CAHI;;IAILE,YAAY,CAACC,OAAD,EAAUC,KAAV,EAAiB;MAEzB,KAAKP,cAAL,CAAoBO,KAApB,EAA2BD,OAA3B,GAAqCA,OAArC;MACA,IAAIR,IAAG,GAAI;QACP,MAAM,KAAKE,cAAL,CAAoBO,KAApB,EAA2BJ,EAD1B;QAEP,WAAWG;MAFJ,CAAX;MAIA,KAAKF,KAAL,CAAW,QAAX,EAAqBN,IAArB;IAEH,CAbI;;IAcLU,YAAY,CAACC,KAAD,EAAQF,KAAR,EAAe;MAEvBE,KAAK,CAACC,wBAAN,GAFuB,CAGvB;;MACA,IAAIP,EAAC,GAAI,KAAKH,cAAL,CAAoBO,KAApB,EAA2BJ,EAApC;MACA,KAAKH,cAAL,CAAoBW,MAApB,CAA2BJ,KAA3B,EAAkC,CAAlC,EALuB,CAMvB;;MACA,KAAKZ,MAAL,GAAc,KAAd;MAEA,KAAKiB,SAAL,CAAe,MAAM;QACjB,KAAKjB,MAAL,GAAc,IAAd;MACH,CAFD;MAGA,KAAKS,KAAL,CAAW,QAAX,EAAqBD,EAArB;IACH,CA3BI;;IA4BLU,YAAY,GAAG;MACX,IAAIf,IAAG,GAAI;QAAE,MAAM,KAAKgB,QAAL,GAAgB,cAAhB,GAAiC,KAAKlB,cAA9C;QAA8D,WAAW;MAAzE,CAAX;MACA,KAAKA,cAAL;MACA,KAAKI,cAAL,CAAoBe,IAApB,CAAyBjB,IAAzB;MACA,KAAKM,KAAL,CAAW,QAAX,EAAqBN,IAArB;IACJ;;EAjCK;AAxBE,CAAf","names":["ref","LatexComponent","name","props","components","setup","newAnswer","isCreate","newChooses","render","indexNewChoose","classChoose","data","choices","choiceQuestion","methods","choiceAnswer","id","$emit","updateChoose","content","index","deleteChoose","event","stopImmediatePropagation","splice","$nextTick","createChoose","question","push"],"sourceRoot":"","sources":["G:\\Dự án Web học tập\\studyweb\\src\\components\\Question\\ChooseComponent.vue"],"sourcesContent":["<template>\r\n    <div class=\"list-choice\" v-if=\"render\">\r\n        <template v-for=\"(choice, index) in choiceQuestion\" :key=\"index\">\r\n            <input type=\"radio\" class=\"hidden-radio\" :id=\"choice.id\" :name=\"'choices_question_' + question\"\r\n                :value=\"choice.id\" :disabled=\"!canChoose\" />\r\n            <label :class=\"canChoose ? 'choice' : 'choice nohover'\" :id=\"question + '_choose_' + choice.id\"\r\n                @click=\"canChoose ? choiceAnswer(choice.id) : ''\" :for=\"choice.id\">\r\n                <span class=\"closeChoice\" v-if=\"isUpdate\" @click=\"deleteChoose($event, index)\">X</span>\r\n                <span :class=\"isUpdate || doTest ? 'choice-label' : ''\">\r\n                    <!-- Lỗi dấu cách -->\r\n                    <!-- <LatexComponent :content=\"choice.content\" :isUpdate=\"isUpdate\"\r\n                    @update=\"data => updateChoose(index, data)\" /> -->\r\n                    <!-- Fix lỗi dấu cách -->\r\n                    <LatexComponent :content=\"choice.content\" :isUpdate=\"isUpdate\"\r\n                        @update=\"updateChoose($event, index)\" />\r\n                </span>\r\n            </label>\r\n        </template>\r\n\r\n        <!-- List câu trả lời mới tạo -->\r\n\r\n\r\n        <button class=\"create-answer\" v-if=\"isUpdate\" @click=\"createChoose\">\r\n            <span class=\"content-create\">+</span>\r\n            <span class=\"content-create\"> Thêm câu trả lời</span>\r\n        </button>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { ref } from 'vue';\r\nimport LatexComponent from '../LatexComponent.vue'\r\nexport default {\r\n    name: \"ChooseComponent\",\r\n    props: ['choices', 'isUpdate', 'linkNavbar', 'doTest', 'canChoose', 'question', 'type'],\r\n    components: {\r\n        LatexComponent\r\n    },\r\n    setup() {\r\n        const newAnswer = ref(\"\")\r\n        const isCreate = ref(false)\r\n        const newChooses = ref([])\r\n        const render = ref(true)\r\n        const indexNewChoose = ref(0)\r\n        const classChoose = ref(\"choice\")\r\n        return { newAnswer, render, newChooses, isCreate, indexNewChoose, classChoose }\r\n    },\r\n    data() {\r\n        let choices = this.choices\r\n        return {\r\n            // copy data from array not reference\r\n            choiceQuestion: choices\r\n        }\r\n    },\r\n\r\n\r\n    methods: {\r\n        choiceAnswer(id) {\r\n            this.$emit('chooseAnswer', id)\r\n        },\r\n        updateChoose(content, index) {\r\n\r\n            this.choiceQuestion[index].content = content\r\n            let data = {\r\n                'id': this.choiceQuestion[index].id,\r\n                'content': content\r\n            }\r\n            this.$emit('update', data)\r\n\r\n        },\r\n        deleteChoose(event, index) {\r\n\r\n            event.stopImmediatePropagation()\r\n            // console.log(\"Click delete\")\r\n            let id = this.choiceQuestion[index].id\r\n            this.choiceQuestion.splice(index, 1)\r\n            // console.log(this.choiceQuestion)\r\n            this.render = false\r\n\r\n            this.$nextTick(() => {\r\n                this.render = true\r\n            })\r\n            this.$emit('delete', id)\r\n        },\r\n        createChoose() {\r\n            let data = { 'id': this.question + '_new_choose_' + this.indexNewChoose, 'content': \"\" }\r\n            this.indexNewChoose++\r\n            this.choiceQuestion.push(data)\r\n            this.$emit('create', data)\r\n        }\r\n\r\n\r\n    }\r\n}\r\n\r\n</script>\r\n<style>\r\n.list-choice {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: space-between;\r\n    /* padding: auto;    */\r\n}\r\n\r\n.closeChoice {\r\n    position: absolute;\r\n    right: 0px;\r\n    top: 0px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    /* margin: 30px 0 0 2px; */\r\n    width: 20px;\r\n    height: 20px;\r\n    border-radius: 50%;\r\n    cursor: pointer;\r\n    z-index: 2;\r\n    background-color: #ea4f4c;\r\n}\r\n\r\n.create-answer {\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: center;\r\n    align-items: center;\r\n    position: relative;\r\n    width: 48%;\r\n    font-weight: bold;\r\n    margin-left: 5px;\r\n    margin-top: 5px;\r\n    min-height: 60px;\r\n    background-color: #222;\r\n    border: solid 2px #ea4f4c;\r\n}\r\n\r\n\r\n.content-create {\r\n    font-size: 20px;\r\n    color: #ea4f4c;\r\n\r\n}\r\n\r\n.choice {\r\n    display: block;\r\n    position: relative;\r\n    width: 48%;\r\n    margin-top: 5px;\r\n    min-height: 60px;\r\n    border: 4px solid white;\r\n    border-radius: 2px;\r\n    background-color: white;\r\n    box-sizing: border-box;\r\n}\r\n\r\n\r\n\r\n.choice:not(.nohover):hover {\r\n    display: block;\r\n    position: relative;\r\n    width: 48%;\r\n    margin-top: 5px;\r\n    min-height: 60px;\r\n    border: 4px solid #6108f2;\r\n    border-radius: 2px;\r\n    background-color: rgb(166, 172, 172);\r\n    box-sizing: border-box;\r\n}\r\n\r\n.choice-label {\r\n    display: block;\r\n    width: 100%;\r\n    height: 100%;\r\n    border-radius: 5px;\r\n    border-style: solid;\r\n    border: 0px;\r\n    border-color: #e2d5d5;\r\n}\r\n\r\n\r\n\r\ninput.hidden-radio {\r\n    display: none;\r\n\r\n}\r\n\r\n\r\n.hidden-radio:checked+.choice {\r\n    display: block;\r\n    position: relative;\r\n    width: 48%;\r\n    margin-top: 5px;\r\n    min-height: 60px;\r\n    border: 4px solid #6108f2;\r\n    border-radius: 5px;\r\n    background-color: rgb(166, 172, 172);\r\n    box-sizing: border-box;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}