{"ast":null,"code":"import { useRoute } from 'vue-router';\nimport VueApexCharts from 'vue3-apexcharts';\nimport { getReportExam } from '../../services/exam';\nexport default {\n  name: \"ReportExamComponent\",\n  components: {\n    apexchart: VueApexCharts\n  },\n\n  setup() {\n    const idTest = parseInt(useRoute().params.idTest);\n    const idExam = parseInt(useRoute().params.idExam);\n    return {\n      idTest,\n      idExam\n    };\n  },\n\n  mounted() {\n    this.handleGetData();\n  },\n\n  data() {\n    return {\n      render: true,\n      amount: {\n        series: [{\n          name: 'PRODUCT A',\n          data: [44, 55, 41]\n        }, {\n          name: 'PRODUCT B',\n          data: [13, 23, 20]\n        }, {\n          name: 'PRODUCT C',\n          data: [11, 17, 15]\n        }, {\n          name: 'PRODUCT D',\n          data: [21, 7, 25]\n        }],\n        chartOptions: {\n          chart: {\n            type: 'bar',\n            height: 350,\n            stacked: true,\n            toolbar: {\n              show: true\n            },\n            zoom: {\n              enabled: true\n            }\n          },\n          responsive: [{\n            breakpoint: 480,\n            options: {\n              legend: {\n                position: 'bottom',\n                offsetX: -10,\n                offsetY: 0\n              }\n            }\n          }],\n          plotOptions: {\n            bar: {\n              horizontal: false,\n              borderRadius: 10,\n              dataLabels: {\n                total: {\n                  enabled: true,\n                  style: {\n                    fontSize: '13px',\n                    fontWeight: 900\n                  }\n                }\n              }\n            }\n          },\n          xaxis: {\n            categories: ['OK']\n          },\n          legend: {\n            position: 'right',\n            offsetY: 40\n          },\n          fill: {\n            opacity: 1\n          }\n        }\n      },\n      percent: {\n        series: [{\n          name: 'Marine Sprite',\n          data: [44, 55, 41, 37, 22, 43, 21]\n        }, {\n          name: 'Striking Calf',\n          data: [53, 32, 33, 52, 13, 43, 32]\n        }, {\n          name: 'Tank Picture',\n          data: [12, 17, 11, 9, 15, 11, 20]\n        }, {\n          name: 'Bucket Slope',\n          data: [9, 7, 5, 8, 6, 9, 4]\n        }, {\n          name: 'Reborn Kid',\n          data: [25, 12, 19, 32, 25, 24, 10]\n        }],\n        chartOptions: {\n          chart: {\n            type: 'bar',\n            height: 350,\n            stacked: true,\n            stackType: '100%'\n          },\n          plotOptions: {\n            bar: {\n              horizontal: false\n            }\n          },\n          stroke: {\n            width: 1,\n            colors: ['#fff']\n          },\n          title: {\n            text: '100% Stacked Bar'\n          },\n          xaxis: {\n            categories: [2008, 2009, 2010, 2011, 2012, 2013, 2014]\n          },\n          tooltip: {\n            y: {\n              formatter: function (val) {\n                return val + \"K\";\n              }\n            }\n          },\n          fill: {\n            opacity: 1\n          },\n          legend: {\n            position: 'top',\n            horizontalAlign: 'left',\n            offsetX: 40\n          }\n        }\n      },\n      pie: {\n        series: [0, 0, 0],\n        chartOptions: {\n          chart: {\n            width: 380,\n            type: 'pie'\n          },\n          labels: ['Làm đúng', 'Làm sai', 'Chưa làm'],\n          responsive: [{\n            breakpoint: 480,\n            options: {\n              chart: {\n                width: 200\n              },\n              legend: {\n                position: 'bottom'\n              }\n            }\n          }]\n        }\n      }\n    };\n  },\n\n  methods: {\n    async handleGetData() {\n      const response = await getReportExam(19);\n      const data = response.data;\n      this.amount.series = data.series;\n      this.amount.chartOptions.xaxis.categories = data.columns_name;\n      console.log(this.amount.chartOptions.xaxis.categories);\n      this.percent.series = data.series;\n      this.percent.chartOptions.xaxis.categories = data.columns_name;\n      data.series[0].data.forEach(dataCorrect => {\n        this.pie.series[0] += dataCorrect;\n      });\n      data.series[1].data.forEach(dataFail => {\n        this.pie.series[1] += dataFail;\n      });\n      data.series[2].data.forEach(dataDont => {\n        this.pie.series[2] += dataDont;\n      });\n      this.render = false;\n      this.$nextTick(() => {\n        this.render = true;\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAeA,SAASA,QAAT,QAAyB,YAAzB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,SAASC,aAAT,QAA8B,qBAA9B;AACA,eAAe;EACXC,IAAI,EAAE,qBADK;EAEXC,UAAU,EAAE;IACRC,SAAS,EAAEJ;EADH,CAFD;;EAKXK,KAAK,GAAG;IACJ,MAAMC,MAAK,GAAIC,QAAQ,CAACR,QAAQ,GAAGS,MAAX,CAAkBF,MAAnB,CAAvB;IACA,MAAMG,MAAK,GAAIF,QAAQ,CAACR,QAAQ,GAAGS,MAAX,CAAkBC,MAAnB,CAAvB;IACA,OAAO;MACHH,MADG;MACKG;IADL,CAAP;EAGH,CAXU;;EAYXC,OAAO,GAAG;IACN,KAAKC,aAAL;EACH,CAdU;;EAeXC,IAAI,GAAG;IACH,OAAO;MACHC,MAAM,EAAE,IADL;MAEHC,MAAM,EAAE;QACJC,MAAM,EAAE,CAAC;UACLb,IAAI,EAAE,WADD;UAELU,IAAI,EAAE,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT;QAFD,CAAD,EAGL;UACCV,IAAI,EAAE,WADP;UAECU,IAAI,EAAE,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT;QAFP,CAHK,EAML;UACCV,IAAI,EAAE,WADP;UAECU,IAAI,EAAE,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT;QAFP,CANK,EASL;UACCV,IAAI,EAAE,WADP;UAECU,IAAI,EAAE,CAAC,EAAD,EAAK,CAAL,EAAQ,EAAR;QAFP,CATK,CADJ;QAcJI,YAAY,EAAE;UACVC,KAAK,EAAE;YACHC,IAAI,EAAE,KADH;YAEHC,MAAM,EAAE,GAFL;YAGHC,OAAO,EAAE,IAHN;YAIHC,OAAO,EAAE;cACLC,IAAI,EAAE;YADD,CAJN;YAOHC,IAAI,EAAE;cACFC,OAAO,EAAE;YADP;UAPH,CADG;UAYVC,UAAU,EAAE,CAAC;YACTC,UAAU,EAAE,GADH;YAETC,OAAO,EAAE;cACLC,MAAM,EAAE;gBACJC,QAAQ,EAAE,QADN;gBAEJC,OAAO,EAAE,CAAC,EAFN;gBAGJC,OAAO,EAAE;cAHL;YADH;UAFA,CAAD,CAZF;UAsBVC,WAAW,EAAE;YACTC,GAAG,EAAE;cACDC,UAAU,EAAE,KADX;cAEDC,YAAY,EAAE,EAFb;cAGDC,UAAU,EAAE;gBACRC,KAAK,EAAE;kBACHb,OAAO,EAAE,IADN;kBAEHc,KAAK,EAAE;oBACHC,QAAQ,EAAE,MADP;oBAEHC,UAAU,EAAE;kBAFT;gBAFJ;cADC;YAHX;UADI,CAtBH;UAqCVC,KAAK,EAAE;YACHC,UAAU,EAAE,CAAC,IAAD;UADT,CArCG;UAyCVd,MAAM,EAAE;YACJC,QAAQ,EAAE,OADN;YAEJE,OAAO,EAAE;UAFL,CAzCE;UA6CVY,IAAI,EAAE;YACFC,OAAO,EAAE;UADP;QA7CI;MAdV,CAFL;MAmEHC,OAAO,EAAE;QACL9B,MAAM,EAAE,CAAC;UACLb,IAAI,EAAE,eADD;UAELU,IAAI,EAAE,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,EAAyB,EAAzB;QAFD,CAAD,EAGL;UACCV,IAAI,EAAE,eADP;UAECU,IAAI,EAAE,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,EAAyB,EAAzB;QAFP,CAHK,EAML;UACCV,IAAI,EAAE,cADP;UAECU,IAAI,EAAE,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,CAAb,EAAgB,EAAhB,EAAoB,EAApB,EAAwB,EAAxB;QAFP,CANK,EASL;UACCV,IAAI,EAAE,cADP;UAECU,IAAI,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB;QAFP,CATK,EAYL;UACCV,IAAI,EAAE,YADP;UAECU,IAAI,EAAE,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB,EAAyB,EAAzB;QAFP,CAZK,CADH;QAiBLI,YAAY,EAAE;UACVC,KAAK,EAAE;YACHC,IAAI,EAAE,KADH;YAEHC,MAAM,EAAE,GAFL;YAGHC,OAAO,EAAE,IAHN;YAIH0B,SAAS,EAAE;UAJR,CADG;UAOVd,WAAW,EAAE;YACTC,GAAG,EAAE;cACDC,UAAU,EAAE;YADX;UADI,CAPH;UAYVa,MAAM,EAAE;YACJC,KAAK,EAAE,CADH;YAEJC,MAAM,EAAE,CAAC,MAAD;UAFJ,CAZE;UAgBVC,KAAK,EAAE;YACHC,IAAI,EAAE;UADH,CAhBG;UAmBVV,KAAK,EAAE;YACHC,UAAU,EAAE,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,EAAyB,IAAzB,EAA+B,IAA/B,EAAqC,IAArC;UADT,CAnBG;UAsBVU,OAAO,EAAE;YACLC,CAAC,EAAE;cACCC,SAAS,EAAE,UAAUC,GAAV,EAAe;gBACtB,OAAOA,GAAE,GAAI,GAAb;cACJ;YAHD;UADE,CAtBC;UA6BVZ,IAAI,EAAE;YACFC,OAAO,EAAE;UADP,CA7BI;UAiCVhB,MAAM,EAAE;YACJC,QAAQ,EAAE,KADN;YAEJ2B,eAAe,EAAE,MAFb;YAGJ1B,OAAO,EAAE;UAHL;QAjCE;MAjBT,CAnEN;MA6HH2B,GAAG,EAAE;QACD1C,MAAM,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CADP;QAEDC,YAAY,EAAE;UACVC,KAAK,EAAE;YACH+B,KAAK,EAAE,GADJ;YAEH9B,IAAI,EAAE;UAFH,CADG;UAKVwC,MAAM,EAAE,CAAC,UAAD,EAAa,SAAb,EAAwB,UAAxB,CALE;UAMVjC,UAAU,EAAE,CAAC;YACTC,UAAU,EAAE,GADH;YAETC,OAAO,EAAE;cACLV,KAAK,EAAE;gBACH+B,KAAK,EAAE;cADJ,CADF;cAILpB,MAAM,EAAE;gBACJC,QAAQ,EAAE;cADN;YAJH;UAFA,CAAD;QANF;MAFb;IA7HF,CAAP;EAoJH,CApKU;;EAqKX8B,OAAO,EAAE;IACL,MAAMhD,aAAN,GAAsB;MAClB,MAAMiD,QAAO,GAAI,MAAM3D,aAAa,CAAC,EAAD,CAApC;MACA,MAAMW,IAAG,GAAIgD,QAAQ,CAAChD,IAAtB;MACA,KAAKE,MAAL,CAAYC,MAAZ,GAAqBH,IAAI,CAACG,MAA1B;MACA,KAAKD,MAAL,CAAYE,YAAZ,CAAyByB,KAAzB,CAA+BC,UAA/B,GAA4C9B,IAAI,CAACiD,YAAjD;MACAC,OAAO,CAACC,GAAR,CAAY,KAAKjD,MAAL,CAAYE,YAAZ,CAAyByB,KAAzB,CAA+BC,UAA3C;MACA,KAAKG,OAAL,CAAa9B,MAAb,GAAsBH,IAAI,CAACG,MAA3B;MACA,KAAK8B,OAAL,CAAa7B,YAAb,CAA0ByB,KAA1B,CAAgCC,UAAhC,GAA6C9B,IAAI,CAACiD,YAAlD;MACAjD,IAAI,CAACG,MAAL,CAAY,CAAZ,EAAeH,IAAf,CAAoBoD,OAApB,CAA4BC,WAAU,IAAK;QACvC,KAAKR,GAAL,CAAS1C,MAAT,CAAgB,CAAhB,KAAsBkD,WAAtB;MACH,CAFD;MAGArD,IAAI,CAACG,MAAL,CAAY,CAAZ,EAAeH,IAAf,CAAoBoD,OAApB,CAA4BE,QAAO,IAAK;QACpC,KAAKT,GAAL,CAAS1C,MAAT,CAAgB,CAAhB,KAAsBmD,QAAtB;MACH,CAFD;MAGAtD,IAAI,CAACG,MAAL,CAAY,CAAZ,EAAeH,IAAf,CAAoBoD,OAApB,CAA4BG,QAAO,IAAK;QACpC,KAAKV,GAAL,CAAS1C,MAAT,CAAgB,CAAhB,KAAsBoD,QAAtB;MACH,CAFD;MAGA,KAAKtD,MAAL,GAAc,KAAd;MACA,KAAKuD,SAAL,CAAe,MAAM;QACjB,KAAKvD,MAAL,GAAc,IAAd;MACH,CAFD;IAGJ;;EAtBK;AArKE,CAAf","names":["useRoute","VueApexCharts","getReportExam","name","components","apexchart","setup","idTest","parseInt","params","idExam","mounted","handleGetData","data","render","amount","series","chartOptions","chart","type","height","stacked","toolbar","show","zoom","enabled","responsive","breakpoint","options","legend","position","offsetX","offsetY","plotOptions","bar","horizontal","borderRadius","dataLabels","total","style","fontSize","fontWeight","xaxis","categories","fill","opacity","percent","stackType","stroke","width","colors","title","text","tooltip","y","formatter","val","horizontalAlign","pie","labels","methods","response","columns_name","console","log","forEach","dataCorrect","dataFail","dataDont","$nextTick"],"sourceRoot":"","sources":["G:\\Dự án Web học tập\\studyweb\\src\\components\\Exam\\ReportExamComponent.vue"],"sourcesContent":["<template>\r\n    <div class=\"container-report-exam\" v-if=\"render\">\r\n        <slot name=\"list-tabs\"></slot>\r\n        <div id=\"chart-amount\">\r\n            <apexchart type=\"bar\" height=\"350\" :options=\"amount.chartOptions\" :series=\"amount.series\"></apexchart>\r\n        </div>\r\n        <div id=\"chart-percent\">\r\n            <apexchart type=\"bar\" height=\"350\" :options=\"percent.chartOptions\" :series=\"percent.series\"></apexchart>\r\n        </div>\r\n        <div id=\"chart-pie\">\r\n            <apexchart type=\"pie\" width=\"380\" :options=\"pie.chartOptions\" :series=\"pie.series\"></apexchart>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { useRoute } from 'vue-router'\r\nimport VueApexCharts from 'vue3-apexcharts'\r\nimport { getReportExam } from '../../services/exam'\r\nexport default {\r\n    name: \"ReportExamComponent\",\r\n    components: {\r\n        apexchart: VueApexCharts,\r\n    },\r\n    setup() {\r\n        const idTest = parseInt(useRoute().params.idTest)\r\n        const idExam = parseInt(useRoute().params.idExam)\r\n        return {\r\n            idTest, idExam\r\n        }\r\n    },\r\n    mounted() {\r\n        this.handleGetData()\r\n    },\r\n    data() {\r\n        return {\r\n            render: true,\r\n            amount: {\r\n                series: [{\r\n                    name: 'PRODUCT A',\r\n                    data: [44, 55, 41]\r\n                }, {\r\n                    name: 'PRODUCT B',\r\n                    data: [13, 23, 20]\r\n                }, {\r\n                    name: 'PRODUCT C',\r\n                    data: [11, 17, 15]\r\n                }, {\r\n                    name: 'PRODUCT D',\r\n                    data: [21, 7, 25]\r\n                }],\r\n                chartOptions: {\r\n                    chart: {\r\n                        type: 'bar',\r\n                        height: 350,\r\n                        stacked: true,\r\n                        toolbar: {\r\n                            show: true\r\n                        },\r\n                        zoom: {\r\n                            enabled: true\r\n                        }\r\n                    },\r\n                    responsive: [{\r\n                        breakpoint: 480,\r\n                        options: {\r\n                            legend: {\r\n                                position: 'bottom',\r\n                                offsetX: -10,\r\n                                offsetY: 0\r\n                            }\r\n                        }\r\n                    }],\r\n                    plotOptions: {\r\n                        bar: {\r\n                            horizontal: false,\r\n                            borderRadius: 10,\r\n                            dataLabels: {\r\n                                total: {\r\n                                    enabled: true,\r\n                                    style: {\r\n                                        fontSize: '13px',\r\n                                        fontWeight: 900\r\n                                    }\r\n                                }\r\n                            }\r\n                        },\r\n                    },\r\n                    xaxis: {\r\n                        categories: ['OK'\r\n                        ],\r\n                    },\r\n                    legend: {\r\n                        position: 'right',\r\n                        offsetY: 40\r\n                    },\r\n                    fill: {\r\n                        opacity: 1\r\n                    }\r\n                },\r\n\r\n            },\r\n            percent: {\r\n                series: [{\r\n                    name: 'Marine Sprite',\r\n                    data: [44, 55, 41, 37, 22, 43, 21]\r\n                }, {\r\n                    name: 'Striking Calf',\r\n                    data: [53, 32, 33, 52, 13, 43, 32]\r\n                }, {\r\n                    name: 'Tank Picture',\r\n                    data: [12, 17, 11, 9, 15, 11, 20]\r\n                }, {\r\n                    name: 'Bucket Slope',\r\n                    data: [9, 7, 5, 8, 6, 9, 4]\r\n                }, {\r\n                    name: 'Reborn Kid',\r\n                    data: [25, 12, 19, 32, 25, 24, 10]\r\n                }],\r\n                chartOptions: {\r\n                    chart: {\r\n                        type: 'bar',\r\n                        height: 350,\r\n                        stacked: true,\r\n                        stackType: '100%'\r\n                    },\r\n                    plotOptions: {\r\n                        bar: {\r\n                            horizontal: false,\r\n                        },\r\n                    },\r\n                    stroke: {\r\n                        width: 1,\r\n                        colors: ['#fff']\r\n                    },\r\n                    title: {\r\n                        text: '100% Stacked Bar'\r\n                    },\r\n                    xaxis: {\r\n                        categories: [2008, 2009, 2010, 2011, 2012, 2013, 2014],\r\n                    },\r\n                    tooltip: {\r\n                        y: {\r\n                            formatter: function (val) {\r\n                                return val + \"K\"\r\n                            }\r\n                        }\r\n                    },\r\n                    fill: {\r\n                        opacity: 1\r\n\r\n                    },\r\n                    legend: {\r\n                        position: 'top',\r\n                        horizontalAlign: 'left',\r\n                        offsetX: 40\r\n                    }\r\n                },\r\n\r\n            },\r\n            pie: {\r\n                series: [0, 0, 0],\r\n                chartOptions: {\r\n                    chart: {\r\n                        width: 380,\r\n                        type: 'pie',\r\n                    },\r\n                    labels: ['Làm đúng', 'Làm sai', 'Chưa làm'],\r\n                    responsive: [{\r\n                        breakpoint: 480,\r\n                        options: {\r\n                            chart: {\r\n                                width: 200\r\n                            },\r\n                            legend: {\r\n                                position: 'bottom'\r\n                            }\r\n                        }\r\n                    }]\r\n                },\r\n\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        async handleGetData() {\r\n            const response = await getReportExam(19)\r\n            const data = response.data\r\n            this.amount.series = data.series\r\n            this.amount.chartOptions.xaxis.categories = data.columns_name\r\n            console.log(this.amount.chartOptions.xaxis.categories)\r\n            this.percent.series = data.series\r\n            this.percent.chartOptions.xaxis.categories = data.columns_name\r\n            data.series[0].data.forEach(dataCorrect => {\r\n                this.pie.series[0] += dataCorrect\r\n            })\r\n            data.series[1].data.forEach(dataFail => {\r\n                this.pie.series[1] += dataFail\r\n            })\r\n            data.series[2].data.forEach(dataDont => {\r\n                this.pie.series[2] += dataDont\r\n            })\r\n            this.render = false\r\n            this.$nextTick(() => {\r\n                this.render = true\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style>\r\n.container-report-exam {\r\n    margin: 0 15%;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}