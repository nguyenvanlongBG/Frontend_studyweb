{"ast":null,"code":"import router from '@/router';\nimport Datepicker from '@vuepic/vue-datepicker';\nimport '@vuepic/vue-datepicker/dist/main.css';\nimport { createTest } from '../services/test';\nimport VueMultiselect from 'vue-multiselect';\nimport { ref } from 'vue';\nexport default {\n  name: 'ModalCreateTest',\n  components: {\n    VueMultiselect,\n    Datepicker\n  },\n\n  setup() {\n    const subjects = ref([{\n      name: 'Tất cả',\n      id: 1\n    }, {\n      name: 'Toán',\n      id: 2\n    }, {\n      name: 'Hóa học',\n      id: 3\n    }, {\n      name: 'Vật lý',\n      id: 4\n    }]);\n    return {\n      subjects\n    };\n  },\n\n  data() {\n    return {\n      valueSubject: 1,\n      dataSend: {\n        type: 0,\n        name: \"\",\n        note: \"\",\n        belong_id: null,\n        reward_init: 0,\n        allow_rework: true,\n        // Cho phép làm lại\n        mark_option: 0,\n        // 0 Xem đáp án ngay sau khi nộp bài 1 Khi kết thúc thời gian mới xem đáp án\n        time_start: new Date(),\n        time_finish: \"\"\n      }\n    };\n  },\n\n  methods: {\n    async submit() {\n      this.dataSend.time_start = this.dataSend.time_start.toISOString().substring(0, 10) + ' ' + this.dataSend.time_start.toISOString().substring(11, 19);\n\n      if (this.dataSend.time_finish) {\n        this.dataSend.time_finish = this.dataSend.time_finish.toISOString().substring(0, 10) + ' ' + this.dataSend.time_finish.toISOString().substring(11, 19);\n      }\n\n      if (parseInt(this.dataSend.mark_option) >= 0) {\n        this.dataSend.mark_option = parseInt(this.dataSend.mark_option);\n      }\n\n      console.log(typeof this.dataSend.mark_option);\n      console.log(this.dataSend);\n      let test = await createTest(this.dataSend);\n\n      if (test.success) {\n        router.push({\n          name: 'updateTest',\n          params: {\n            idTest: test.data.test_id\n          }\n        });\n      }\n    },\n\n    close() {\n      this.$emit(\"close\");\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAsHA,OAAOA,MAAP,MAAmB,UAAnB;AACA,OAAOC,UAAP,MAAuB,wBAAvB;AACA,OAAO,sCAAP;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,cAAP,MAA2B,iBAA3B;AACA,SAASC,GAAT,QAAoB,KAApB;AACA,eAAe;EACXC,IAAI,EAAE,iBADK;EAEXC,UAAU,EAAE;IACRH,cADQ;IAERF;EAFQ,CAFD;;EAMXM,KAAK,GAAG;IACJ,MAAMC,QAAO,GAAIJ,GAAG,CAAC,CAAC;MAAEC,IAAI,EAAE,QAAR;MAAkBI,EAAE,EAAE;IAAtB,CAAD,EACrB;MAAEJ,IAAI,EAAE,MAAR;MAAgBI,EAAE,EAAE;IAApB,CADqB,EAErB;MAAEJ,IAAI,EAAE,SAAR;MAAmBI,EAAE,EAAE;IAAvB,CAFqB,EAGrB;MAAEJ,IAAI,EAAE,QAAR;MAAkBI,EAAE,EAAE;IAAtB,CAHqB,CAAD,CAApB;IAKA,OAAO;MACHD;IADG,CAAP;EAGH,CAfU;;EAgBXE,IAAI,GAAG;IACH,OAAO;MACHC,YAAY,EAAE,CADX;MAEHC,QAAQ,EAAE;QACNC,IAAI,EAAE,CADA;QAENR,IAAI,EAAE,EAFA;QAGNS,IAAI,EAAE,EAHA;QAINC,SAAS,EAAE,IAJL;QAKNC,WAAW,EAAE,CALP;QAMNC,YAAY,EAAE,IANR;QAMc;QACpBC,WAAW,EAAE,CAPP;QAOY;QAClBC,UAAU,EAAE,IAAIC,IAAJ,EARN;QASNC,WAAW,EAAE;MATP;IAFP,CAAP;EAcH,CA/BU;;EAgCXC,OAAO,EAAE;IACL,MAAMC,MAAN,GAAe;MACX,KAAKX,QAAL,CAAcO,UAAd,GAA2B,KAAKP,QAAL,CAAcO,UAAd,CAAyBK,WAAzB,GAAuCC,SAAvC,CAAiD,CAAjD,EAAoD,EAApD,IAA0D,GAA1D,GAAgE,KAAKb,QAAL,CAAcO,UAAd,CAAyBK,WAAzB,GAAuCC,SAAvC,CAAiD,EAAjD,EAAqD,EAArD,CAA3F;;MACA,IAAI,KAAKb,QAAL,CAAcS,WAAlB,EAA+B;QAC3B,KAAKT,QAAL,CAAcS,WAAd,GAA4B,KAAKT,QAAL,CAAcS,WAAd,CAA0BG,WAA1B,GAAwCC,SAAxC,CAAkD,CAAlD,EAAqD,EAArD,IAA2D,GAA3D,GAAiE,KAAKb,QAAL,CAAcS,WAAd,CAA0BG,WAA1B,GAAwCC,SAAxC,CAAkD,EAAlD,EAAsD,EAAtD,CAA7F;MACJ;;MACA,IAAIC,QAAQ,CAAC,KAAKd,QAAL,CAAcM,WAAf,CAAR,IAAuC,CAA3C,EAA8C;QAC1C,KAAKN,QAAL,CAAcM,WAAd,GAA4BQ,QAAQ,CAAC,KAAKd,QAAL,CAAcM,WAAf,CAApC;MACJ;;MACAS,OAAO,CAACC,GAAR,CAAY,OAAQ,KAAKhB,QAAL,CAAcM,WAAlC;MACAS,OAAO,CAACC,GAAR,CAAY,KAAKhB,QAAjB;MACA,IAAIiB,IAAG,GAAI,MAAM3B,UAAU,CAAC,KAAKU,QAAN,CAA3B;;MACA,IAAIiB,IAAI,CAACC,OAAT,EAAkB;QACd9B,MAAM,CAAC+B,IAAP,CAAY;UAAE1B,IAAI,EAAE,YAAR;UAAsB2B,MAAM,EAAE;YAAEC,MAAM,EAAEJ,IAAI,CAACnB,IAAL,CAAUwB;UAApB;QAA9B,CAAZ;MACJ;IACH,CAfI;;IAgBLC,KAAK,GAAG;MACJ,KAAKC,KAAL,CAAW,OAAX;IACJ;;EAlBK;AAhCE,CAAf","names":["router","Datepicker","createTest","VueMultiselect","ref","name","components","setup","subjects","id","data","valueSubject","dataSend","type","note","belong_id","reward_init","allow_rework","mark_option","time_start","Date","time_finish","methods","submit","toISOString","substring","parseInt","console","log","test","success","push","params","idTest","test_id","close","$emit"],"sourceRoot":"","sources":["G:\\Dự án Web học tập\\studyweb\\src\\components\\ModalCreateTest.vue"],"sourcesContent":["<template>\r\n    <div class=\"modal-answer-overlay\" style=\"overflow-y: scroll\">\r\n\r\n        <div class=\"form-create-test\">\r\n            <h1>Tạo kì thi</h1>\r\n            <table class=\"table-input\">\r\n                <tr>\r\n                    <th class=\"label-input\">\r\n                        Tên kì thi\r\n                    </th>\r\n                    <td>\r\n                        <input v-model=\"dataSend.name\" id=\"name\" type=\"text\" class=\"input-data\"\r\n                            placeholder=\"Tên kì thi\" />\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <th class=\"label-input\">\r\n                        Kì thi môn\r\n                    </th>\r\n                    <td>\r\n                        <VueMultiselect v-model=\"valueItemsSubject\" :options=\"subjects ? subjects : []\" :multiple=\"true\"\r\n                            :close-on-select=\"false\" :clear-on-select=\"false\" :preserve-search=\"true\"\r\n                            placeholder=\"Chương\" label=\"name\" track-by=\"name\" :preselect-first=\"true\">\r\n                        </VueMultiselect>\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <th class=\"label-input\">\r\n                        Ghi chú\r\n                    </th>\r\n                    <td>\r\n                        <input v-model=\"dataSend.note\" id=\"nameTest\" type=\"text\" class=\"input-data\"\r\n                            placeholder=\"Ghi chú\" />\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <th class=\"label-input\">\r\n                        Phần thưởng\r\n                    </th>\r\n                    <td>\r\n                        <input v-model=\"dataSend.reward_init\" id=\"nameTest\" type=\"number\" class=\"input-data\"\r\n                            placeholder=\"Số exu\" />\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <th class=\"label-input\">\r\n                        Làm nhiều lần\r\n                    </th>\r\n                    <td class=\"radio-choice\">\r\n                        <div class=\"choice\">\r\n                            <input v-model=\"dataSend.allow_rework\" id=\"allowRework_1\" type=\"radio\" name=\"allowRework\"\r\n                                class=\"radio\" value=true />\r\n                            <label class=\"label-content\" for=\"allowRework_1\">Có</label>\r\n                        </div>\r\n                        <div class=\"choice\">\r\n                            <input v-model=\"dataSend.allow_rework\" id=\"allowRework_0\" type=\"radio\" name=\"allowRework\"\r\n                                class=\"radio\" value=false />\r\n                            <label class=\"label-content\" for=\"allowRework_0\">Không</label>\r\n                        </div>\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <th class=\"label-input\">\r\n                        Xem đáp án ngay sau khi nộp bài\r\n                    </th>\r\n                    <td class=\"radio-choice\">\r\n                        <div class=\"choice\">\r\n                            <input v-model=\"dataSend.mark_option\" id=\"markOption_1\" type=\"radio\" name=\"markOption\"\r\n                                class=\"radio\" value=1 />\r\n                            <label class=\"label-content\" for=\"markOption_1\">Có</label>\r\n                        </div>\r\n                        <div class=\"choice\">\r\n                            <input v-model=\"dataSend.mark_option\" id=\"markOption_0\" type=\"radio\" name=\"markOption\"\r\n                                class=\"radio\" value=0 />\r\n                            <label class=\"label-content\" for=\"markOption_1\">Không</label>\r\n                        </div>\r\n                    </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <th class=\"label-input\">\r\n                        Thời gian bắt đầu\r\n                    </th>\r\n                    <td>\r\n                        <Datepicker v-model=\"dataSend.time_start\" />\r\n                    </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <th class=\"label-input\">\r\n                        Thời gian kết thúc\r\n                    </th>\r\n                    <td>\r\n                        <Datepicker v-model=\"dataSend.time_finish\" />\r\n\r\n                    </td>\r\n                </tr>\r\n\r\n            </table>\r\n            <div class=\"buttons\">\r\n                <button class=\"button-submit\" @click=\"close()\">Quay lại</button>\r\n                <button class=\"button-submit\" @click=\"submit()\">Tạo đề thi</button>\r\n            </div>\r\n            <br>\r\n\r\n\r\n            <!-- <label>\r\n                Phạm vi\r\n            </label>\r\n            <input name='status' /> -->\r\n        </div>\r\n\r\n        <button @click=\"close()\" class=\"close\">X</button>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport router from '@/router';\r\nimport Datepicker from '@vuepic/vue-datepicker';\r\nimport '@vuepic/vue-datepicker/dist/main.css';\r\nimport { createTest } from '../services/test'\r\nimport VueMultiselect from 'vue-multiselect'\r\nimport { ref } from 'vue';\r\nexport default {\r\n    name: 'ModalCreateTest',\r\n    components: {\r\n        VueMultiselect,\r\n        Datepicker\r\n    },\r\n    setup() {\r\n        const subjects = ref([{ name: 'Tất cả', id: 1 },\r\n        { name: 'Toán', id: 2 },\r\n        { name: 'Hóa học', id: 3 },\r\n        { name: 'Vật lý', id: 4 }\r\n        ])\r\n        return {\r\n            subjects\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            valueSubject: 1,\r\n            dataSend: {\r\n                type: 0,\r\n                name: \"\",\r\n                note: \"\",\r\n                belong_id: null,\r\n                reward_init: 0,\r\n                allow_rework: true, // Cho phép làm lại\r\n                mark_option: 0,   // 0 Xem đáp án ngay sau khi nộp bài 1 Khi kết thúc thời gian mới xem đáp án\r\n                time_start: new Date(),\r\n                time_finish: \"\"\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        async submit() {\r\n            this.dataSend.time_start = this.dataSend.time_start.toISOString().substring(0, 10) + ' ' + this.dataSend.time_start.toISOString().substring(11, 19)\r\n            if (this.dataSend.time_finish) {\r\n                this.dataSend.time_finish = this.dataSend.time_finish.toISOString().substring(0, 10) + ' ' + this.dataSend.time_finish.toISOString().substring(11, 19)\r\n            }\r\n            if (parseInt(this.dataSend.mark_option) >= 0) {\r\n                this.dataSend.mark_option = parseInt(this.dataSend.mark_option)\r\n            }\r\n            console.log(typeof (this.dataSend.mark_option))\r\n            console.log(this.dataSend)\r\n            let test = await createTest(this.dataSend)\r\n            if (test.success) {\r\n                router.push({ name: 'updateTest', params: { idTest: test.data.test_id } })\r\n            }\r\n        },\r\n        close() {\r\n            this.$emit(\"close\")\r\n        }\r\n    }\r\n}\r\n\r\n</script>\r\n<style scoped>\r\n.modal-answer-overlay {\r\n    position: fixed;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: center;\r\n    color: white;\r\n    background-color: #000000da;\r\n    z-index: 100;\r\n    align-items: center;\r\n\r\n}\r\n\r\n\r\n\r\n.form-create-test {\r\n    width: 50%;\r\n    text-align: center;\r\n    align-items: center;\r\n    border: 2px solid #dd4040;\r\n}\r\n\r\n.row {\r\n    display: flexbox;\r\n    align-items: center;\r\n}\r\n\r\ntr {\r\n    padding: 0 10px;\r\n}\r\n\r\ntd {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\n.label-input {\r\n    font-size: 20px;\r\n}\r\n\r\n.buttons {\r\n    display: flex;\r\n    margin-top: 5px;\r\n\r\n    width: 100%;\r\n    justify-content: flex-end;\r\n}\r\n\r\n.button-submit {\r\n    margin-right: 15px;\r\n    margin-left: 2px;\r\n    margin-top: 2px;\r\n    height: 35px;\r\n    box-shadow: 0 8px #999;\r\n    border-radius: 5px;\r\n    border: 2px solid #ea4f4c;\r\n    background-color: #222;\r\n    color: white;\r\n    text-align: center;\r\n    justify-content: center;\r\n    text-decoration: none;\r\n}\r\n\r\n.button-submit:active {\r\n    box-shadow: 0 5px #666;\r\n    transform: translateY(4px);\r\n}\r\n\r\n.input-block {\r\n    display: flex;\r\n\r\n}\r\n\r\n.choice {\r\n    display: flex;\r\n    margin-left: 15px;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\n.radio-choice {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\n.label-content {\r\n    display: flex;\r\n    font-size: 20px;\r\n    text-align: center;\r\n    align-items: center;\r\n    justify-content: center;\r\n    margin: auto;\r\n    margin-left: 5px;\r\n}\r\n\r\n.radio {\r\n    height: 20px;\r\n    width: 20px\r\n}\r\n\r\n.input-data {\r\n    box-sizing: border-box;\r\n    min-height: 35px;\r\n    width: 80%;\r\n\r\n}\r\n\r\n.input-data-datepicker {}\r\n\r\n.table-input {\r\n    width: 100%;\r\n}\r\n\r\n.label-input {\r\n    width: 30%;\r\n}\r\n\r\n.close-modal-create {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    /* margin: 30px 0 0 2px; */\r\n    margin-bottom: 21%;\r\n    width: 20px;\r\n    height: 20px;\r\n    border-radius: 50%;\r\n    cursor: pointer;\r\n    background-color: blueviolet;\r\n}\r\n\r\n@import url('vue-multiselect/dist/vue-multiselect.css');\r\n</style>"]},"metadata":{},"sourceType":"module"}